# Organizational Data Core Package

This package provides the core functionality for accessing and querying organizational data in a performant, indexed manner.

## Overview

The `orgdatacore` package is designed to be a reusable component that can be consumed by multiple services including:
- Slack bots (ci-chat-bot)
- REST APIs
- CLI tools
- Other organizational data consumers

## Features

- **Fast Data Access**: Pre-computed indexes enable O(1) lookups for common queries
- **Thread-Safe**: Concurrent access with read-write mutex protection
- **Hot Reload**: Support for dynamic data updates without service restart
- **Flexible Data Sources**: Load from multiple JSON files with automatic merging
- **Comprehensive Queries**: Employee, team, and organization lookups with membership validation

## Usage

### Basic Setup

```go
package main

import (
    "github.com/openshift/ci-chat-bot/pkg/orgdata-core"
)

func main() {
    // Create a new service
    service := orgdatacore.NewService()
    
    // Load data from JSON files
    err := service.LoadFromFiles([]string{"comprehensive_index_dump.json"})
    if err != nil {
        log.Fatal(err)
    }
}
```

## Data Structure

The package expects data in the `comprehensive_index_dump.json` format generated by the Python `orglib` indexing system.

## Interface

The package implements the `ServiceInterface` which provides comprehensive organizational data access methods.

## Thread Safety

All public methods are thread-safe and can be called concurrently from multiple goroutines.

## Dependencies

- Go 1.19+
- Standard library only (no external dependencies)
